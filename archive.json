{
  "magic": "E!vIA5L86J2I",
  "timestamp": "2025-11-06T00:16:04.091278+00:00",
  "repo": "grittygrease/draft-sullivan-tls-signed-ech-updates",
  "labels": [
    {
      "name": "bug",
      "description": "Something isn't working",
      "color": "d73a4a"
    },
    {
      "name": "documentation",
      "description": "Improvements or additions to documentation",
      "color": "0075ca"
    },
    {
      "name": "duplicate",
      "description": "This issue or pull request already exists",
      "color": "cfd3d7"
    },
    {
      "name": "enhancement",
      "description": "New feature or request",
      "color": "a2eeef"
    },
    {
      "name": "good first issue",
      "description": "Good for newcomers",
      "color": "7057ff"
    },
    {
      "name": "help wanted",
      "description": "Extra attention is needed",
      "color": "008672"
    },
    {
      "name": "invalid",
      "description": "This doesn't seem right",
      "color": "e4e669"
    },
    {
      "name": "question",
      "description": "Further information is requested",
      "color": "d876e3"
    },
    {
      "name": "wontfix",
      "description": "This will not be worked on",
      "color": "ffffff"
    }
  ],
  "issues": [
    {
      "number": 5,
      "id": "I_kwDOP0xIIc7Vs0io",
      "title": "Why insist on ech_auth being last?",
      "url": "https://github.com/grittygrease/draft-sullivan-tls-signed-ech-updates/issues/5",
      "state": "OPEN",
      "author": "bwesterb",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "Converting an ECHConfig to an ECHConfigTBS is a bit easier if ech_auth is last, but not a lot. You still need to update the length prefixes for the `data` and `extensions` fields.",
      "createdAt": "2025-11-04T08:26:33Z",
      "updatedAt": "2025-11-04T08:35:56Z",
      "closedAt": null,
      "comments": [
        {
          "author": "bwesterb",
          "authorAssociation": "NONE",
          "body": "Even if you mean zeroing (#6), then correctly zeroing the signature still requires parsing the ECHConfig to get the correct signature length.",
          "createdAt": "2025-11-04T08:35:56Z",
          "updatedAt": "2025-11-04T08:35:56Z"
        }
      ]
    },
    {
      "number": 6,
      "id": "I_kwDOP0xIIc7Vs9Ta",
      "title": "Zeroing or zero-length",
      "url": "https://github.com/grittygrease/draft-sullivan-tls-signed-ech-updates/issues/6",
      "state": "OPEN",
      "author": "bwesterb",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "On the one hand it's written that\n\n> The signature is computed over this entire structure, avoiding circular dependency by **zeroing** out only the signature bytes themselves\n\nOn the other hand\n\n> ECHConfigTBS (To-Be-Signed): The serialized ECHConfig structure with the ech_auth extension, but with the signature field within ech_auth set to **zero-length.** This includes all ECHConfig fields and the ech_auth extension's method and trusted_keys fields.\n\nand\n\n> ECHConfigTBS (To-Be-Signed) is the serialized ECHConfig structure including the ech_auth extension, but with the signature field within ech_auth set to **zero-length**\n\nSo, which one is it?",
      "createdAt": "2025-11-04T08:34:13Z",
      "updatedAt": "2025-11-04T08:34:13Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 7,
      "id": "I_kwDOP0xIIc7VtBml",
      "title": "Are keys reused?",
      "url": "https://github.com/grittygrease/draft-sullivan-tls-signed-ech-updates/issues/7",
      "state": "OPEN",
      "author": "bwesterb",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "> Including a fixed, scheme-specific context label prevents cross-protocol reuse\n\nWhy not simply require that keys (in both methods) are only ever used for signing `ECHConfig`s?",
      "createdAt": "2025-11-04T08:37:57Z",
      "updatedAt": "2025-11-04T08:37:57Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 8,
      "id": "I_kwDOP0xIIc7VtFyV",
      "title": "Which `trusted_keys`?",
      "url": "https://github.com/grittygrease/draft-sullivan-tls-signed-ech-updates/issues/8",
      "state": "OPEN",
      "author": "bwesterb",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "> [...] Verify that it matches one of the hashes in `trusted_keys` [...]\n\nSurely the client shouldn't check the field in the ECHConfig at hand, but one it already authenticated before.",
      "createdAt": "2025-11-04T08:41:35Z",
      "updatedAt": "2025-11-04T08:41:44Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 9,
      "id": "I_kwDOP0xIIc7VtMGl",
      "title": "PKIX validation (taken literally) is incomplete",
      "url": "https://github.com/grittygrease/draft-sullivan-tls-signed-ech-updates/issues/9",
      "state": "OPEN",
      "author": "bwesterb",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "> PKIX (method=2): a CertificateEntry vector (leaf + optional intermediates) as in TLS 1.3 Certificate; the leaf MUST include the critical id-pe-echConfigSigning extension and be valid for the ECHConfig public_name. The client validates the chain, confirms the SAN includes the ECH public_name, confirms the critical id-pe-echConfigSigning extension is present in the leaf, and verifies the signature with the leaf key. The not_after field MUST be set to 0 (absent).\n\nIf taken literally, many typical checks are omitted such as checking notBefore/notAfter. Perhaps better to add a reference instead of trying to spell this all out (except for checking for id-pe-echConfigSigning.)",
      "createdAt": "2025-11-04T08:47:40Z",
      "updatedAt": "2025-11-04T08:47:40Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 10,
      "id": "I_kwDOP0xIIc7Vtk8-",
      "title": "Continuous rollover (with RPKI) scales quadratically in size",
      "url": "https://github.com/grittygrease/draft-sullivan-tls-signed-ech-updates/issues/10",
      "state": "OPEN",
      "author": "bwesterb",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "If we keep three `HpkeKeyConfig` in rotation, and three signing keys, then we need to send clients nine `ECHConfig`s, as for each `HpkeKeyConfig` and signing key we need an `ECHConfig` signed with that signing key. If this bothers us enough, a simple solution would be to use a list of Authenticator/signature pairs in the signature struct.",
      "createdAt": "2025-11-04T09:08:31Z",
      "updatedAt": "2025-11-04T09:08:31Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 11,
      "id": "I_kwDOP0xIIc7VtxbY",
      "title": "Missing appendix A and state diagram",
      "url": "https://github.com/grittygrease/draft-sullivan-tls-signed-ech-updates/issues/11",
      "state": "OPEN",
      "author": "bwesterb",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-11-04T09:17:41Z",
      "updatedAt": "2025-11-04T09:17:41Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 12,
      "id": "I_kwDOP0xIIc7VtzAc",
      "title": "Why include authenticator in DNS record?",
      "url": "https://github.com/grittygrease/draft-sullivan-tls-signed-ech-updates/issues/12",
      "state": "OPEN",
      "author": "bwesterb",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "From the first example:\n\n> Optional: A signed authenticator for immediate validation\n\nWhy bother?",
      "createdAt": "2025-11-04T09:19:11Z",
      "updatedAt": "2025-11-04T09:19:11Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 13,
      "id": "I_kwDOP0xIIc7WEK_W",
      "title": "No such thing as HRR retry configs",
      "url": "https://github.com/grittygrease/draft-sullivan-tls-signed-ech-updates/issues/13",
      "state": "OPEN",
      "author": "davidben",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "The draft makes constant reference to HRR retry_configs, but there is no such thing. I'm not sure what this is trying to talk about. As far as I can tell, every mention of \"HRR\" or \"HelloRetryRequest\" in the document is wrong.",
      "createdAt": "2025-11-05T14:42:17Z",
      "updatedAt": "2025-11-05T15:19:25Z",
      "closedAt": null,
      "comments": [
        {
          "author": "davidben",
          "authorAssociation": "NONE",
          "body": "Likewise section 10.5 does not make any sense, relative to how ECH actually works.",
          "createdAt": "2025-11-05T15:02:17Z",
          "updatedAt": "2025-11-05T15:02:17Z"
        },
        {
          "author": "dennisjackson",
          "authorAssociation": "COLLABORATOR",
          "body": "Yeah, I already removed these bits in https://github.com/grittygrease/draft-sullivan-tls-signed-ech-updates/pull/2",
          "createdAt": "2025-11-05T15:19:25Z",
          "updatedAt": "2025-11-05T15:19:25Z"
        }
      ]
    }
  ],
  "pulls": [
    {
      "number": 1,
      "id": "PR_kwDOP0xIIc6uuCkC",
      "title": "Signed ECH updates: RPK (stateless), PKIX via critical extension, no DNSSEC",
      "url": "https://github.com/grittygrease/draft-sullivan-tls-signed-ech-updates/pull/1",
      "state": "MERGED",
      "author": "grittygrease",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "## Signed ECH updates: RPK (stateless), PKIX via critical extension, no DNSSEC\r\n\r\nThis PR implements comprehensive spec changes to simplify and refine the authenticated ECH configuration update mechanism.\r\n\r\n### Summary of Changes\r\n\r\n1. **Removed DNSSEC authentication method entirely**\r\n   - Deleted Section 3.3 (DNSSEC)\r\n   - Removed from ECHAuthMethod enum\r\n   - Removed all DNSSEC-related normative references (RFC 4033/4034/4035)\r\n   - Updated all method lists from \"RPK, PKIX, or DNSSEC\" to \"RPK or PKIX\"\r\n\r\n2. **Made RPK state per-ECHConfig (stateless)**\r\n   - No long-term pinning\r\n   - No public-name authentication via pins\r\n   - Deleted Section 5.2.5 \"Public Name Authentication for Pinned Keys\"\r\n   - Deleted Section 10.4 \"Pin Management\"\r\n   - RPK state is only valid for the lifetime of the associated ECHConfig\r\n\r\n3. **Replaced PKIX EKU with critical X.509 extension**\r\n   - Changed from Extended Key Usage to critical certificate extension\r\n   - New OID: `id-pe-echConfigSigning` (1.3.6.1.5.5.7.1.TBD2)\r\n   - Certificates with this extension MUST NOT be used for TLS server auth\r\n   - Updated IANA section from \"Extended Key Usage OID\" to \"X.509 Certificate Extension OID\"\r\n\r\n4. **Clarified temporal requirements**\r\n   - RPK: `not_after` is REQUIRED and MUST be > current time\r\n   - PKIX: `not_after` MUST be 0 (absent)\r\n\r\n5. **Updated registries and examples**\r\n   - ECH Authentication Methods Registry now only has RPK and PKIX\r\n   - All examples updated to use critical extension instead of EKU\r\n   - Deployment guidance updated for the two methods\r\n\r\n6. **Editorial changes**\r\n   - Removed Martin Thomson from authors (added to acknowledgments)\r\n   - Added note that initial DNS fetch is not authenticated by this mechanism\r\n",
      "createdAt": "2025-10-20T21:57:56Z",
      "updatedAt": "2025-10-20T22:11:56Z",
      "baseRepository": "grittygrease/draft-sullivan-tls-signed-ech-updates",
      "baseRefName": "main",
      "baseRefOid": "a014608bffb07fff0a2d1358e12fa567f4b3b754",
      "headRepository": "grittygrease/draft-sullivan-tls-signed-ech-updates",
      "headRefName": "signed-ech-updates/rpk-stateless-pkix-ext-no-dnssec",
      "headRefOid": "580811a6b12039429dcdb483b12eedabe35885ee",
      "closedAt": "2025-10-20T22:11:56Z",
      "mergedAt": "2025-10-20T22:11:56Z",
      "mergedBy": "grittygrease",
      "mergeCommit": {
        "oid": "3e94878acebe2b66644753db72fb6a8a4cd3b992"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 2,
      "id": "PR_kwDOP0xIIc6wNU2-",
      "title": "General tidyup",
      "url": "https://github.com/grittygrease/draft-sullivan-tls-signed-ech-updates/pull/2",
      "state": "OPEN",
      "author": "dennisjackson",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "* Finishes the removal of pinning \r\n* Splits the extension into two (one for initial ECHConfigs, one for retries) \r\n* Some other changes for clarity and brevity ",
      "createdAt": "2025-10-28T18:16:48Z",
      "updatedAt": "2025-10-28T23:06:16Z",
      "baseRepository": "grittygrease/draft-sullivan-tls-signed-ech-updates",
      "baseRefName": "main",
      "baseRefOid": "f087bb675b4e2f2a477e0013816366a1563802e6",
      "headRepository": "dennisjackson/draft-sullivan-tls-signed-ech-updates",
      "headRefName": "tweaks",
      "headRefOid": "a088611d89e0bf8f32d9a18612c064326dd0630e",
      "closedAt": null,
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    },
    {
      "number": 3,
      "id": "PR_kwDOP0xIIc6xWdDK",
      "title": "fix formatting of struct definitions",
      "url": "https://github.com/grittygrease/draft-sullivan-tls-signed-ech-updates/pull/3",
      "state": "OPEN",
      "author": "bwesterb",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-11-04T08:11:51Z",
      "updatedAt": "2025-11-04T08:11:51Z",
      "baseRepository": "grittygrease/draft-sullivan-tls-signed-ech-updates",
      "baseRefName": "main",
      "baseRefOid": "f087bb675b4e2f2a477e0013816366a1563802e6",
      "headRepository": "bwesterb/draft-sullivan-tls-signed-ech-updates",
      "headRefName": "patch-1",
      "headRefOid": "53bf61e2c18207d89c11aac88612e3df2b793efe",
      "closedAt": null,
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    },
    {
      "number": 4,
      "id": "PR_kwDOP0xIIc6xWkJ6",
      "title": "Disambiguate between signature",
      "url": "https://github.com/grittygrease/draft-sullivan-tls-signed-ech-updates/pull/4",
      "state": "OPEN",
      "author": "bwesterb",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-11-04T08:20:06Z",
      "updatedAt": "2025-11-04T08:20:06Z",
      "baseRepository": "grittygrease/draft-sullivan-tls-signed-ech-updates",
      "baseRefName": "main",
      "baseRefOid": "f087bb675b4e2f2a477e0013816366a1563802e6",
      "headRepository": "bwesterb/draft-sullivan-tls-signed-ech-updates",
      "headRefName": "patch-2",
      "headRefOid": "efc11a725587020564843221f7062968a5169251",
      "closedAt": null,
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    }
  ]
}